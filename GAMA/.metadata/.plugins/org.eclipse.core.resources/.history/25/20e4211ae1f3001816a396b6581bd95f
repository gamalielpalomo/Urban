/**
* Name: GISmodel
* Author: gamaa
* Description: 
* Tags: Tag1, Tag2, TagN
*/

model GISmodel

/* Insert your model definition here */

global{
	file<geometry> calles <- osm_file("/miramar/0409/miramar040918.osm");
	file lugares <- file("/miramar/0515/miramar051518-places.shp");
	
	geometry shape <- envelope(calles);
	
	init{
		
		create agente_osm from:calles with: [tipo::string(read("highway")),nombre::string(read("name"))];
		ask agente_osm{
			
				if(tipo != nil and tipo != "" and tipo != "turning_circle" and tipo != "traffic_signals" and tipo != "bus_stop"){
					
					create calle with: [shape::shape, type:: highway_str, name_str:: name_str];
					if self.name_str = nil{
						self.name_str <- "no_name";
					}
					
				}
			do die;
		}
		
	}
}

species agente_osm{
	string nombre;
	string tipo;
}
species calle{
	string nombre;
	string tipo;
}